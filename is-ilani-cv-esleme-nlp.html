<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ä°ÅŸ Ä°lanÄ± ile CV EÅŸleme ve Benzerlik Analizi (TÃ¼rkÃ§e NLP)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            padding: 40px;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .nlp-badge {
            display: inline-block;
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .upload-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .upload-box {
            border: 2px dashed #667eea;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s;
            background: #f8f9ff;
        }

        .upload-box:hover {
            border-color: #764ba2;
            background: #f0f2ff;
        }

        .upload-box label {
            display: block;
            color: #555;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .upload-box input[type="file"] {
            display: none;
        }

        .upload-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: transform 0.2s;
        }

        .upload-btn:hover {
            transform: translateY(-2px);
        }

        .file-name {
            margin-top: 10px;
            color: #667eea;
            font-size: 12px;
            font-weight: 600;
        }

        .file-type-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: bold;
            margin-left: 5px;
        }

        .badge-txt {
            background: #e3f2fd;
            color: #1976d2;
        }

        .badge-pdf {
            background: #fce4ec;
            color: #c62828;
        }

        .loading-indicator {
            display: none;
            margin-top: 10px;
            color: #667eea;
            font-size: 12px;
        }

        .loading-indicator.active {
            display: block;
        }

        .loading-indicator::after {
            content: '';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }

        .options-section {
            background: #f8f9ff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
        }

        .options-section h3 {
            color: #333;
            font-size: 16px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #667eea;
        }

        .option-item label {
            font-size: 14px;
            color: #555;
            cursor: pointer;
        }

        .option-item .info {
            font-size: 11px;
            color: #999;
            display: block;
        }

        .results-section {
            margin-top: 30px;
            display: none;
        }

        .results-section.active {
            display: block;
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .metric-card.green {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .metric-label {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .metric-value {
            font-size: 28px;
            font-weight: bold;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 20px;
        }

        .nlp-analysis-section {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
            border-radius: 10px;
            border: 2px solid #11998e;
        }

        .nlp-analysis-section h3 {
            color: #11998e;
            margin-bottom: 20px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stem-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .stem-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .stem-box h4 {
            color: #667eea;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .stem-list {
            max-height: 150px;
            overflow-y: auto;
            font-size: 13px;
            color: #555;
        }

        .stem-item {
            padding: 5px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .stem-item:last-child {
            border-bottom: none;
        }

        .stem-original {
            color: #999;
        }

        .stem-result {
            color: #11998e;
            font-weight: 600;
        }

        .matched-keywords-section {
            margin-top: 30px;
            padding: 25px;
            background: #f8f9ff;
            border-radius: 10px;
            border: 2px solid #667eea;
        }

        .matched-keywords-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .ngram-section {
            margin-top: 25px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .ngram-section h4 {
            color: #667eea;
            margin-bottom: 12px;
            font-size: 16px;
        }

        .ngram-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9ff;
            border-radius: 5px;
        }

        .ngram-info span {
            font-size: 14px;
            color: #666;
        }

        .ngram-info .count {
            font-weight: bold;
            color: #667eea;
            font-size: 16px;
        }

        .keywords-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .stat-box .stat-label {
            font-size: 11px;
            color: #666;
            margin-bottom: 5px;
        }

        .stat-box .stat-value {
            font-size: 22px;
            font-weight: bold;
            color: #667eea;
        }

        .stat-box.highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .stat-box.highlight .stat-label,
        .stat-box.highlight .stat-value {
            color: white;
        }

        .keywords-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .keyword-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .keyword-tag:hover {
            transform: translateY(-2px);
        }

        .keyword-tag.stem {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .keyword-tag.important {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            font-weight: 700;
        }

        .frequency-section {
            margin-top: 25px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #f5576c;
        }

        .frequency-section h4 {
            color: #f5576c;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .frequency-bars {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .freq-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .freq-word {
            width: 120px;
            font-size: 13px;
            color: #333;
            font-weight: 500;
        }

        .freq-bar-container {
            flex: 1;
            height: 20px;
            background: #eee;
            border-radius: 10px;
            overflow: hidden;
        }

        .freq-bar {
            height: 100%;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .freq-count {
            width: 40px;
            font-size: 12px;
            color: #666;
            text-align: right;
        }

        .stopwords-removed {
            margin-top: 15px;
            padding: 10px 15px;
            background: #fff3e0;
            border-radius: 8px;
            font-size: 12px;
            color: #e65100;
        }

        .analyze-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            margin-top: 20px;
            transition: transform 0.2s;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
        }

        .analyze-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .supported-formats {
            font-size: 11px;
            color: #888;
            margin-top: 8px;
        }

        @media (max-width: 768px) {
            .upload-section, .metrics, .keywords-stats, .stem-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ä°ÅŸ Ä°lanÄ± ile CV EÅŸleme ve Benzerlik Analizi</h1>
        <p class="subtitle"><span class="nlp-badge">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e NLP Destekli</span></p>
        
        <div class="upload-section">
            <div class="upload-box">
                <label>Ä°ÅŸ Ä°lanÄ±nÄ±zÄ± YÃ¼kleyiniz</label>
                <input type="file" id="jobFile" accept=".txt,.pdf">
                <button class="upload-btn" onclick="document.getElementById('jobFile').click()">
                    Dosya SeÃ§
                </button>
                <div class="supported-formats">Desteklenen formatlar: TXT, PDF</div>
                <div class="file-name" id="jobFileName"></div>
                <div class="loading-indicator" id="jobLoading">PDF iÅŸleniyor</div>
            </div>
            
            <div class="upload-box">
                <label>CV'i YÃ¼kleyiniz</label>
                <input type="file" id="cvFile" accept=".txt,.pdf">
                <button class="upload-btn" onclick="document.getElementById('cvFile').click()">
                    Dosya SeÃ§
                </button>
                <div class="supported-formats">Desteklenen formatlar: TXT, PDF</div>
                <div class="file-name" id="cvFileName"></div>
                <div class="loading-indicator" id="cvLoading">PDF iÅŸleniyor</div>
            </div>
        </div>

        <!-- NLP SeÃ§enekleri -->
        <div class="options-section">
            <h3>ğŸ”§ TÃ¼rkÃ§e NLP SeÃ§enekleri</h3>
            <div class="options-grid">
                <div class="option-item">
                    <input type="checkbox" id="optStopwords" checked>
                    <label for="optStopwords">
                        Stop Words Temizleme
                        <span class="info">Etkisiz kelimeleri Ã§Ä±kar (ve, ile, bir...)</span>
                    </label>
                </div>
                <div class="option-item">
                    <input type="checkbox" id="optStemming" checked>
                    <label for="optStemming">
                        KÃ¶k Bulma (Stemming)
                        <span class="info">Kelimelerin kÃ¶klerini bul</span>
                    </label>
                </div>
                <div class="option-item">
                    <input type="checkbox" id="optNormalize" checked>
                    <label for="optNormalize">
                        TÃ¼rkÃ§e Normalizasyon
                        <span class="info">Karakter dÃ¼zeltme ve standartlaÅŸtÄ±rma</span>
                    </label>
                </div>
                <div class="option-item">
                    <input type="checkbox" id="optNumbers">
                    <label for="optNumbers">
                        SayÄ±larÄ± Dahil Et
                        <span class="info">SayÄ±larÄ± analize dahil et</span>
                    </label>
                </div>
            </div>
        </div>

        <button class="analyze-btn" id="analyzeBtn" onclick="analyzeFiles()" disabled>
            ğŸ” Analiz Et
        </button>

        <div class="results-section" id="resultsSection">
            <div class="metrics">
                <div class="metric-card">
                    <div class="metric-label">TF-IDF BenzerliÄŸi</div>
                    <div class="metric-value" id="tfidfScore">0%</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Kelime EÅŸleÅŸmesi</div>
                    <div class="metric-value" id="similarityScore">0%</div>
                </div>
                <div class="metric-card green">
                    <div class="metric-label">KÃ¶k BazlÄ± EÅŸleÅŸme</div>
                    <div class="metric-value" id="stemScore">0%</div>
                </div>
            </div>
            
            <div class="chart-container">
                <canvas id="resultsChart"></canvas>
            </div>

            <!-- TÃ¼rkÃ§e NLP Analiz SonuÃ§larÄ± -->
            <div class="nlp-analysis-section">
                <h3>ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e NLP Analiz SonuÃ§larÄ±</h3>
                
                <div class="stopwords-removed" id="stopwordsInfo" style="display:none;">
                    â„¹ï¸ <span id="stopwordsCount">0</span> adet etkisiz kelime (stop word) analiz dÄ±ÅŸÄ± bÄ±rakÄ±ldÄ±.
                </div>

                <!-- En SÄ±k KullanÄ±lan Kelimeler -->
                <div class="frequency-section">
                    <h4>ğŸ“Š Ä°ÅŸ Ä°lanÄ±nda En Ã–nemli Anahtar Kelimeler</h4>
                    <div class="frequency-bars" id="jobFrequency"></div>
                </div>

                <div class="frequency-section" style="border-left-color: #667eea;">
                    <h4 style="color: #667eea;">ğŸ“Š CV'de En Ã–nemli Anahtar Kelimeler</h4>
                    <div class="frequency-bars" id="cvFrequency"></div>
                </div>

                <!-- KÃ¶k KarÅŸÄ±laÅŸtÄ±rmasÄ± -->
                <div class="stem-comparison" id="stemSection">
                    <div class="stem-box">
                        <h4>Ä°ÅŸ Ä°lanÄ± - Ã–rnek KÃ¶k DÃ¶nÃ¼ÅŸÃ¼mleri</h4>
                        <div class="stem-list" id="jobStems"></div>
                    </div>
                    <div class="stem-box">
                        <h4>CV - Ã–rnek KÃ¶k DÃ¶nÃ¼ÅŸÃ¼mleri</h4>
                        <div class="stem-list" id="cvStems"></div>
                    </div>
                </div>
            </div>

            <div class="matched-keywords-section">
                <h3>ğŸ¯ EÅŸleÅŸen Anahtar Kelimeler</h3>
                <div class="keywords-stats">
                    <div class="stat-box">
                        <div class="stat-label">Ä°ÅŸ Ä°lanÄ± Kelime</div>
                        <div class="stat-value" id="jobWordCount">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">CV Kelime</div>
                        <div class="stat-value" id="cvWordCount">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Direkt EÅŸleÅŸme</div>
                        <div class="stat-value" id="matchedCount">0</div>
                    </div>
                    <div class="stat-box highlight">
                        <div class="stat-label">KÃ¶k BazlÄ± EÅŸleÅŸme</div>
                        <div class="stat-value" id="stemMatchedCount">0</div>
                    </div>
                </div>
                
                <h4 style="margin-top: 20px; color: #667eea; font-size: 14px;">ğŸ“ Direkt EÅŸleÅŸen Kelimeler</h4>
                <div class="keywords-list" id="keywordsList"></div>

                <h4 style="margin-top: 20px; color: #11998e; font-size: 14px;">ğŸŒ± KÃ¶k BazÄ±nda EÅŸleÅŸen Kelimeler</h4>
                <div class="keywords-list" id="stemKeywordsList"></div>

                <!-- Bigram Section -->
                <div class="ngram-section">
                    <h4>ğŸ“Š EÅŸleÅŸen Bigram'lar (2'li Kelime GruplarÄ±)</h4>
                    <div class="ngram-info">
                        <span>Toplam EÅŸleÅŸen Bigram:</span>
                        <span class="count" id="bigramCount">0</span>
                    </div>
                    <div class="keywords-list" id="bigramList"></div>
                </div>

                <!-- Trigram Section -->
                <div class="ngram-section">
                    <h4>ğŸ“ˆ EÅŸleÅŸen Trigram'lar (3'lÃ¼ Kelime GruplarÄ±)</h4>
                    <div class="ngram-info">
                        <span>Toplam EÅŸleÅŸen Trigram:</span>
                        <span class="count" id="trigramCount">0</span>
                    </div>
                    <div class="keywords-list" id="trigramList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // PDF.js worker ayarÄ±
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        let jobText = '';
        let cvText = '';
        let chart = null;

        // ==================== TÃœRKÃ‡E NLP MODÃœLÃœ ====================

        // TÃ¼rkÃ§e Stop Words (Etkisiz Kelimeler) - KapsamlÄ± Liste
        const turkishStopWords = new Set([
            // BaÄŸlaÃ§lar
            've', 'veya', 'ile', 'ya', 'yahut', 'ama', 'fakat', 'lakin', 'ancak', 'oysa', 'oysaki',
            'halbuki', 'Ã§Ã¼nkÃ¼', 'zira', 'madem', 'mademki', 'eÄŸer', 'ÅŸayet', 'yani', 'demek',
            'dolayÄ±sÄ±yla', 'bÃ¶ylece', 'nitekim', 'Ã¼stelik', 'ayrÄ±ca', 'hem', 'ne', 'ise', 'ki',
            'da', 'de', 'dahi', 'bile', 'sadece', 'yalnÄ±z', 'yalnÄ±zca', 'hatta', 'hele',
            
            // Zamirler
            'ben', 'sen', 'o', 'biz', 'siz', 'onlar', 'bu', 'ÅŸu', 'bunlar', 'ÅŸunlar',
            'beni', 'seni', 'onu', 'bizi', 'sizi', 'onlarÄ±', 'bana', 'sana', 'ona', 'bize', 'size', 'onlara',
            'bende', 'sende', 'onda', 'bizde', 'sizde', 'onlarda', 'benden', 'senden', 'ondan', 'bizden', 'sizden', 'onlardan',
            'benim', 'senin', 'onun', 'bizim', 'sizin', 'onlarÄ±n', 'benimle', 'seninle', 'onunla', 'bizimle', 'sizinle', 'onlarla',
            'kendi', 'kendisi', 'kendim', 'kendin', 'kendimiz', 'kendiniz', 'kendileri',
            'kim', 'ne', 'nere', 'hangi', 'hangisi', 'kaÃ§', 'nasÄ±l', 'neden', 'niÃ§in', 'niye',
            'her', 'herkes', 'hepsi', 'bazÄ±', 'bazÄ±sÄ±', 'birÃ§ok', 'birkaÃ§', 'hiÃ§', 'hiÃ§biri', 'kimse',
            'birisi', 'biri', 'diÄŸer', 'diÄŸeri', 'Ã¶bÃ¼r', 'Ã¶teki', 'baÅŸka', 'baÅŸkasÄ±',
            
            // Edatlar ve Ä°lgeÃ§ler
            'iÃ§in', 'Ã¼zere', 'kadar', 'gibi', 'gÃ¶re', 'karÅŸÄ±', 'raÄŸmen', 'doÄŸru', 'dek', 'deÄŸin',
            'boyunca', 'sÃ¼resince', 'esnasÄ±nda', 'sÄ±rasÄ±nda', 'arasÄ±nda', 'Ã¶nÃ¼nde', 'arkasÄ±nda',
            'yanÄ±nda', 'Ã¼stÃ¼nde', 'altÄ±nda', 'iÃ§inde', 'dÄ±ÅŸÄ±nda', 'Ã¶tesinde', 'berisinde',
            'hakkÄ±nda', 'konusunda', 'Ã¼zerine', 'Ã¼zerinde', 'dolayÄ±', 'nedeniyle', 'yÃ¼zÃ¼nden',
            'sayesinde', 'aracÄ±lÄ±ÄŸÄ±yla', 'vasÄ±tasÄ±yla', 'itibariyle', 'itibarÄ±yla',
            
            // YardÄ±mcÄ± Fiiller ve Ek Fiiller
            'olmak', 'olur', 'oldu', 'olmuÅŸ', 'olan', 'olarak', 'olduÄŸu', 'olduÄŸunda', 'olacak',
            'etmek', 'eder', 'etti', 'etmiÅŸ', 'eden', 'edilmek', 'edilir', 'edildi', 'edilen',
            'yapmak', 'yapar', 'yaptÄ±', 'yapmÄ±ÅŸ', 'yapan', 'yapÄ±lmak', 'yapÄ±lÄ±r', 'yapÄ±ldÄ±', 'yapÄ±lan',
            'var', 'yok', 'vardÄ±r', 'yoktur', 'mevcut', 'bulunmak', 'bulunur', 'bulundu', 'bulunan',
            'gelmek', 'gelir', 'geldi', 'gelmiÅŸ', 'gelen', 'gitmek', 'gider', 'gitti', 'gitmiÅŸ', 'giden',
            'almak', 'alÄ±r', 'aldÄ±', 'almÄ±ÅŸ', 'alan', 'vermek', 'verir', 'verdi', 'vermiÅŸ', 'veren',
            'demek', 'der', 'dedi', 'demiÅŸ', 'diyen', 'denilmek', 'denilir', 'denildi', 'denilen',
            'sÃ¶ylemek', 'sÃ¶yler', 'sÃ¶yledi', 'sÃ¶ylemiÅŸ', 'sÃ¶yleyen',
            'baÅŸlamak', 'baÅŸlar', 'baÅŸladÄ±', 'baÅŸlamÄ±ÅŸ', 'baÅŸlayan',
            'kalmak', 'kalÄ±r', 'kaldÄ±', 'kalmÄ±ÅŸ', 'kalan',
            'geÃ§mek', 'geÃ§er', 'geÃ§ti', 'geÃ§miÅŸ', 'geÃ§en',
            'ise', 'idi', 'imiÅŸ', 'dir', 'dÄ±r', 'dur', 'dÃ¼r', 'tir', 'tÄ±r', 'tur', 'tÃ¼r',
            
            // Zarflar
            'Ã§ok', 'pek', 'fazla', 'az', 'biraz', 'epey', 'oldukÃ§a', 'gayet', 'son derece',
            'daha', 'en', 'Ã§oÄŸu', 'tÃ¼m', 'bÃ¼tÃ¼n', 'tam', 'tamamen', 'tamami', 'tamamÄ±yla',
            'hiÃ§', 'asla', 'kesinlikle', 'mutlaka', 'elbette', 'tabii', 'tabi', 'ÅŸÃ¼phesiz',
            'belki', 'muhtemelen', 'galiba', 'herhalde', 'sanÄ±rÄ±m', 'zannedersem',
            'hep', 'hepsi', 'her zaman', 'daima', 'sÃ¼rekli', 'devamlÄ±', 'bazen', 'ara sÄ±ra', 'nadiren', 'hiÃ§bir zaman',
            'ÅŸimdi', 'ÅŸu an', 'hemen', 'derhal', 'sonra', 'Ã¶nce', 'evvel', 'dÃ¼n', 'bugÃ¼n', 'yarÄ±n',
            'artÄ±k', 'henÃ¼z', 'hÃ¢lÃ¢', 'yine', 'tekrar', 'gene',
            'burada', 'orada', 'ÅŸurada', 'nerede', 'buraya', 'oraya', 'ÅŸuraya', 'nereye',
            'bÃ¶yle', 'ÅŸÃ¶yle', 'Ã¶yle', 'nasÄ±l', 'neden', 'niÃ§in', 'niye',
            'evet', 'hayÄ±r', 'yok', 'tamam', 'peki', 'olur',
            
            // SÄ±fatlar ve Belgisiz SÄ±fatlar
            'bir', 'iki', 'Ã¼Ã§', 'dÃ¶rt', 'beÅŸ', 'altÄ±', 'yedi', 'sekiz', 'dokuz', 'on',
            'birinci', 'ikinci', 'Ã¼Ã§Ã¼ncÃ¼', 'ilk', 'son', 'sonuncu', 'orta', 'diÄŸer',
            'aynÄ±', 'baÅŸka', 'Ã¶yle', 'bÃ¶yle', 'ÅŸÃ¶yle', 'hangi', 'her', 'bazÄ±', 'birÃ§ok', 'birkaÃ§',
            'kendi', 'Ã¶z', 'tÃ¼m', 'bÃ¼tÃ¼n', 'tÃ¼m', 'cÃ¼mle', 'herhangi',
            
            // DiÄŸer YaygÄ±n Kelimeler
            'ÅŸey', 'ÅŸeyi', 'ÅŸeye', 'ÅŸeyde', 'ÅŸeyden', 'ÅŸeyler',
            'zaman', 'vakit', 'sÃ¼re', 'an', 'dÃ¶nem', 'devir', 'Ã§aÄŸ',
            'yer', 'yeri', 'yere', 'yerde', 'yerden', 'yerler', 'mekan', 'alan', 'bÃ¶lge',
            'gÃ¼n', 'hafta', 'ay', 'yÄ±l', 'sene', 'asÄ±r', 'yÃ¼zyÄ±l',
            'kez', 'kere', 'defa', 'sefer',
            'taraf', 'yan', 'yÃ¶n', 'cihet',
            'durum', 'hal', 'vaziyet', 'koÅŸul', 'ÅŸart',
            'konu', 'mesele', 'husus', 'madde',
            'iÅŸ', 'iÅŸi', 'iÅŸe', 'iÅŸte',
            'tÃ¼rlÃ¼', 'Ã§eÅŸit', 'tip', 'tÃ¼r',
            'ÅŸekil', 'biÃ§im', 'tarz', 'Ã¼slup',
            'yol', 'yolu', 'yola', 'yolda', 'yoldan',
            'gÃ¶z', 'el', 'baÅŸ', 'ayak',
            
            // KÄ±saltmalar ve Ekler
            'vb', 'vs', 'vd', 'bkz', 'Ã¶rn', 'yani', 'mesela', 'misal',
            
            // Ä°ngilizce yaygÄ±n kelimeler (sÄ±kÃ§a karÅŸÄ±laÅŸÄ±lan)
            'the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for',
            'of', 'with', 'by', 'from', 'as', 'is', 'are', 'was', 'were', 'be', 'been',
            'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should',
            'may', 'might', 'must', 'shall', 'can', 'need', 'dare', 'ought', 'used',
            'it', 'its', 'this', 'that', 'these', 'those', 'i', 'you', 'he', 'she', 'we', 'they'
        ]);

        // TÃ¼rkÃ§e Karakter Normalizasyonu
        function normalizeText(text) {
            if (!document.getElementById('optNormalize').checked) return text;
            
            return text
                // KÃ¼Ã§Ã¼k harfe Ã§evir (TÃ¼rkÃ§e karakterleri koruyarak)
                .replace(/Ä°/g, 'i')
                .replace(/I/g, 'Ä±')
                .toLowerCase()
                // YaygÄ±n yazÄ±m hatalarÄ±nÄ± dÃ¼zelt
                .replace(/iÌ‡/g, 'i')
                // Birden fazla boÅŸluÄŸu teke indir
                .replace(/\s+/g, ' ')
                // SatÄ±r sonlarÄ±nÄ± boÅŸluÄŸa Ã§evir
                .replace(/[\r\n]+/g, ' ')
                .trim();
        }

        // TÃ¼rkÃ§e Stemmer (KÃ¶k Bulma) - BasitleÅŸtirilmiÅŸ Suffix Stripping
        function turkishStem(word) {
            if (!document.getElementById('optStemming').checked) return word;
            if (word.length < 4) return word;

            let stem = word;
            
            // Fiil Ã§ekim ekleri
            const verbSuffixes = [
                'maktadÄ±r', 'mektedir', 'makta', 'mekte', 'maktayÄ±z', 'mekteyiz',
                'Ä±yorum', 'iyorum', 'uyorum', 'Ã¼yorum', 'yoruz', 'yorsun', 'yorsunuz',
                'acak', 'ecek', 'acaÄŸ', 'eceÄŸ', 'malÄ±', 'meli',
                'dÄ±k', 'dik', 'duk', 'dÃ¼k', 'tÄ±k', 'tik', 'tuk', 'tÃ¼k',
                'mÄ±ÅŸ', 'miÅŸ', 'muÅŸ', 'mÃ¼ÅŸ', 'dÄ±', 'di', 'du', 'dÃ¼', 'tÄ±', 'ti', 'tu', 'tÃ¼',
                'Ä±r', 'ir', 'ur', 'Ã¼r', 'ar', 'er',
                'mak', 'mek', 'ma', 'me'
            ];

            // Ä°sim Ã§ekim ekleri
            const nounSuffixes = [
                'larÄ±n', 'lerin', 'lardan', 'lerden', 'lara', 'lere',
                'lar', 'ler', 'dan', 'den', 'tan', 'ten',
                'nÄ±n', 'nin', 'nun', 'nÃ¼n', 'Ä±n', 'in', 'un', 'Ã¼n',
                'ya', 'ye', 'na', 'ne', 'da', 'de', 'ta', 'te',
                'yla', 'yle', 'la', 'le',
                'lÄ±k', 'lik', 'luk', 'lÃ¼k', 'lÄ±', 'li', 'lu', 'lÃ¼',
                'sÄ±z', 'siz', 'suz', 'sÃ¼z',
                'cÄ±', 'ci', 'cu', 'cÃ¼', 'Ã§Ä±', 'Ã§i', 'Ã§u', 'Ã§Ã¼',
                'ca', 'ce', 'Ã§a', 'Ã§e'
            ];

            // YapÄ±m ekleri
            const derivationalSuffixes = [
                'laÅŸtÄ±r', 'leÅŸtir', 'laÅŸtÄ±', 'leÅŸti', 'laÅŸma', 'leÅŸme',
                'landÄ±r', 'lendir', 'lantÄ±', 'lenti',
                'sal', 'sel', 'sal', 'sel',
                'cÄ±k', 'cik', 'cuk', 'cÃ¼k', 'Ã§Ä±k', 'Ã§ik', 'Ã§uk', 'Ã§Ã¼k',
                'Ä±msÄ±', 'imsi', 'umsu', 'Ã¼msÃ¼',
                'daÅŸ', 'deÅŸ', 'taÅŸ', 'teÅŸ'
            ];

            // TÃ¼m ekleri birleÅŸtir ve uzunluÄŸa gÃ¶re sÄ±rala (uzun olanlar Ã¶nce)
            const allSuffixes = [...verbSuffixes, ...nounSuffixes, ...derivationalSuffixes]
                .sort((a, b) => b.length - a.length);

            // En fazla 3 ek Ã§Ä±kar
            for (let i = 0; i < 3; i++) {
                let found = false;
                for (const suffix of allSuffixes) {
                    if (stem.endsWith(suffix) && stem.length - suffix.length >= 2) {
                        stem = stem.slice(0, -suffix.length);
                        found = true;
                        break;
                    }
                }
                if (!found) break;
            }

            return stem;
        }

        // GeliÅŸmiÅŸ Tokenization
        function tokenize(text, removeStopwords = true) {
            // Normalize et
            let normalized = normalizeText(text);
            
            // SayÄ±larÄ± kontrol et
            const includeNumbers = document.getElementById('optNumbers').checked;
            
            // Tokenize
            let tokens = normalized
                .replace(/[^\w\sÄŸÃ¼ÅŸÄ±Ã¶Ã§ÄÃœÅÄ°Ã–Ã‡0-9]/g, ' ')
                .split(/\s+/)
                .filter(word => {
                    if (word.length < 2) return false;
                    if (!includeNumbers && /^\d+$/.test(word)) return false;
                    return true;
                });
            
            // Stop words'leri Ã§Ä±kar
            if (removeStopwords && document.getElementById('optStopwords').checked) {
                tokens = tokens.filter(word => !turkishStopWords.has(word));
            }
            
            return tokens;
        }

        // Stemmed tokenization
        function tokenizeWithStemming(text) {
            const tokens = tokenize(text, true);
            return tokens.map(token => ({
                original: token,
                stem: turkishStem(token)
            }));
        }

        // Kelime frekansÄ± hesaplama
        function calculateWordFrequency(tokens, topN = 10) {
            const freq = {};
            tokens.forEach(token => {
                freq[token] = (freq[token] || 0) + 1;
            });
            
            return Object.entries(freq)
                .sort((a, b) => b[1] - a[1])
                .slice(0, topN)
                .map(([word, count]) => ({ word, count }));
        }

        // Stop word sayÄ±sÄ±nÄ± hesapla
        function countStopWords(text) {
            const normalized = normalizeText(text);
            const allTokens = normalized
                .replace(/[^\w\sÄŸÃ¼ÅŸÄ±Ã¶Ã§ÄÃœÅÄ°Ã–Ã‡]/g, ' ')
                .split(/\s+/)
                .filter(word => word.length > 0);
            
            return allTokens.filter(word => turkishStopWords.has(word)).length;
        }

        // ==================== PDF Ä°ÅLEMLERÄ° ====================

        async function extractTextFromPDF(file) {
            return new Promise(async (resolve, reject) => {
                try {
                    const arrayBuffer = await file.arrayBuffer();
                    const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                    let fullText = '';
                    
                    for (let i = 1; i <= pdf.numPages; i++) {
                        const page = await pdf.getPage(i);
                        const textContent = await page.getTextContent();
                        const pageText = textContent.items.map(item => item.str).join(' ');
                        fullText += pageText + '\n';
                    }
                    
                    resolve(fullText);
                } catch (error) {
                    reject(error);
                }
            });
        }

        async function readFileContent(file) {
            const fileName = file.name.toLowerCase();
            
            if (fileName.endsWith('.pdf')) {
                return await extractTextFromPDF(file);
            } else {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = (event) => resolve(event.target.result);
                    reader.onerror = (error) => reject(error);
                    reader.readAsText(file);
                });
            }
        }

        function getFileTypeBadge(fileName) {
            const ext = fileName.split('.').pop().toLowerCase();
            if (ext === 'pdf') {
                return '<span class="file-type-badge badge-pdf">PDF</span>';
            }
            return '<span class="file-type-badge badge-txt">TXT</span>';
        }

        // ==================== DOSYA YÃœKLEME ====================

        document.getElementById('jobFile').addEventListener('change', async function(e) {
            const file = e.target.files[0];
            if (file) {
                const fileNameEl = document.getElementById('jobFileName');
                const loadingEl = document.getElementById('jobLoading');
                
                fileNameEl.innerHTML = file.name + ' ' + getFileTypeBadge(file.name);
                
                if (file.name.toLowerCase().endsWith('.pdf')) {
                    loadingEl.classList.add('active');
                }
                
                try {
                    jobText = await readFileContent(file);
                    checkBothFilesLoaded();
                } catch (error) {
                    fileNameEl.innerHTML = '<span style="color: red;">Dosya okunamadÄ±!</span>';
                    console.error('Dosya okuma hatasÄ±:', error);
                } finally {
                    loadingEl.classList.remove('active');
                }
            }
        });

        document.getElementById('cvFile').addEventListener('change', async function(e) {
            const file = e.target.files[0];
            if (file) {
                const fileNameEl = document.getElementById('cvFileName');
                const loadingEl = document.getElementById('cvLoading');
                
                fileNameEl.innerHTML = file.name + ' ' + getFileTypeBadge(file.name);
                
                if (file.name.toLowerCase().endsWith('.pdf')) {
                    loadingEl.classList.add('active');
                }
                
                try {
                    cvText = await readFileContent(file);
                    checkBothFilesLoaded();
                } catch (error) {
                    fileNameEl.innerHTML = '<span style="color: red;">Dosya okunamadÄ±!</span>';
                    console.error('Dosya okuma hatasÄ±:', error);
                } finally {
                    loadingEl.classList.remove('active');
                }
            }
        });

        function checkBothFilesLoaded() {
            if (jobText && cvText) {
                document.getElementById('analyzeBtn').disabled = false;
            }
        }

        // ==================== ANALÄ°Z FONKSÄ°YONLARI ====================

        function extractBigrams(tokens) {
            const bigrams = [];
            for (let i = 0; i < tokens.length - 1; i++) {
                bigrams.push(tokens[i] + ' ' + tokens[i + 1]);
            }
            return bigrams;
        }

        function extractTrigrams(tokens) {
            const trigrams = [];
            for (let i = 0; i < tokens.length - 2; i++) {
                trigrams.push(tokens[i] + ' ' + tokens[i + 1] + ' ' + tokens[i + 2]);
            }
            return trigrams;
        }

        function calculateTFIDF(docs) {
            const tokenizedDocs = docs.map(doc => tokenize(doc));
            const vocabulary = new Set();
            tokenizedDocs.forEach(doc => doc.forEach(word => vocabulary.add(word)));
            
            const tfMatrices = tokenizedDocs.map(doc => {
                const tf = {};
                doc.forEach(word => {
                    tf[word] = (tf[word] || 0) + 1;
                });
                Object.keys(tf).forEach(word => {
                    tf[word] = tf[word] / doc.length;
                });
                return tf;
            });
            
            const idf = {};
            Array.from(vocabulary).forEach(word => {
                const docCount = tokenizedDocs.filter(doc => doc.includes(word)).length;
                idf[word] = Math.log(docs.length / docCount);
            });
            
            const tfidfVectors = tfMatrices.map(tf => {
                const vector = {};
                Object.keys(tf).forEach(word => {
                    vector[word] = tf[word] * idf[word];
                });
                return vector;
            });
            
            return { vectors: tfidfVectors, vocabulary: Array.from(vocabulary) };
        }

        function cosineSimilarity(vec1, vec2, vocabulary) {
            let dotProduct = 0;
            let norm1 = 0;
            let norm2 = 0;
            
            vocabulary.forEach(word => {
                const val1 = vec1[word] || 0;
                const val2 = vec2[word] || 0;
                dotProduct += val1 * val2;
                norm1 += val1 * val1;
                norm2 += val2 * val2;
            });
            
            if (norm1 === 0 || norm2 === 0) return 0;
            return dotProduct / (Math.sqrt(norm1) * Math.sqrt(norm2));
        }

        function setBasedSimilarity(text1, text2) {
            const tokens1 = new Set(tokenize(text1));
            const tokens2 = new Set(tokenize(text2));
            
            const intersection = new Set([...tokens1].filter(x => tokens2.has(x)));
            return tokens1.size > 0 ? intersection.size / tokens1.size : 0;
        }

        // ==================== ANA ANALÄ°Z ====================

        function analyzeFiles() {
            // TF-IDF benzerliÄŸi
            const tfidfResult = calculateTFIDF([jobText, cvText]);
            const cosineSim = cosineSimilarity(
                tfidfResult.vectors[0], 
                tfidfResult.vectors[1], 
                tfidfResult.vocabulary
            );
            
            // Kelime benzerliÄŸi
            const similarity = setBasedSimilarity(jobText, cvText);
            
            // Tokenize
            const jobTokens = tokenize(jobText);
            const cvTokens = tokenize(cvText);
            const jobSet = new Set(jobTokens);
            const cvSet = new Set(cvTokens);
            const matchedWords = [...jobSet].filter(x => cvSet.has(x));
            
            // Stemmed analiz
            const jobStemmed = tokenizeWithStemming(jobText);
            const cvStemmed = tokenizeWithStemming(cvText);
            
            const jobStemSet = new Set(jobStemmed.map(t => t.stem));
            const cvStemSet = new Set(cvStemmed.map(t => t.stem));
            const matchedStems = [...jobStemSet].filter(x => cvStemSet.has(x));
            
            // KÃ¶k bazlÄ± benzerlik
            const stemSimilarity = jobStemSet.size > 0 ? matchedStems.length / jobStemSet.size : 0;
            
            // Bigram analizi
            const jobBigrams = extractBigrams(jobTokens);
            const cvBigrams = extractBigrams(cvTokens);
            const matchedBigrams = [...new Set(jobBigrams)].filter(x => new Set(cvBigrams).has(x));
            
            // Trigram analizi
            const jobTrigrams = extractTrigrams(jobTokens);
            const cvTrigrams = extractTrigrams(cvTokens);
            const matchedTrigrams = [...new Set(jobTrigrams)].filter(x => new Set(cvTrigrams).has(x));
            
            // Kelime frekanslarÄ±
            const jobFreq = calculateWordFrequency(jobTokens, 10);
            const cvFreq = calculateWordFrequency(cvTokens, 10);
            
            // Stop word sayÄ±sÄ±
            const totalStopWords = countStopWords(jobText) + countStopWords(cvText);
            
            // SonuÃ§larÄ± gÃ¶ster
            displayResults({
                tfidfScore: cosineSim,
                similarityScore: similarity,
                stemScore: stemSimilarity,
                jobWordCount: jobSet.size,
                cvWordCount: cvSet.size,
                matchedWords,
                matchedStems,
                matchedBigrams,
                matchedTrigrams,
                jobStemmed: jobStemmed.slice(0, 15),
                cvStemmed: cvStemmed.slice(0, 15),
                jobFreq,
                cvFreq,
                totalStopWords
            });
        }

        function displayResults(data) {
            // SkorlarÄ± gÃ¶ster
            document.getElementById('tfidfScore').textContent = (data.tfidfScore * 100).toFixed(1) + '%';
            document.getElementById('similarityScore').textContent = (data.similarityScore * 100).toFixed(1) + '%';
            document.getElementById('stemScore').textContent = (data.stemScore * 100).toFixed(1) + '%';
            
            // Ä°statistikleri gÃ¶ster
            document.getElementById('jobWordCount').textContent = data.jobWordCount;
            document.getElementById('cvWordCount').textContent = data.cvWordCount;
            document.getElementById('matchedCount').textContent = data.matchedWords.length;
            document.getElementById('stemMatchedCount').textContent = data.matchedStems.length;
            
            // Stop words bilgisi
            if (document.getElementById('optStopwords').checked) {
                document.getElementById('stopwordsInfo').style.display = 'block';
                document.getElementById('stopwordsCount').textContent = data.totalStopWords;
            } else {
                document.getElementById('stopwordsInfo').style.display = 'none';
            }
            
            // Frekans grafikleri
            displayFrequencyBars('jobFrequency', data.jobFreq);
            displayFrequencyBars('cvFrequency', data.cvFreq);
            
            // Stem Ã¶rnekleri
            displayStemExamples('jobStems', data.jobStemmed);
            displayStemExamples('cvStems', data.cvStemmed);
            
            // EÅŸleÅŸen kelimeleri gÃ¶ster
            const keywordsList = document.getElementById('keywordsList');
            keywordsList.innerHTML = '';
            data.matchedWords.sort().forEach(word => {
                const tag = document.createElement('div');
                tag.className = 'keyword-tag';
                tag.textContent = word;
                keywordsList.appendChild(tag);
            });
            
            // KÃ¶k bazlÄ± eÅŸleÅŸmeler
            const stemKeywordsList = document.getElementById('stemKeywordsList');
            stemKeywordsList.innerHTML = '';
            data.matchedStems.sort().forEach(stem => {
                const tag = document.createElement('div');
                tag.className = 'keyword-tag stem';
                tag.textContent = stem;
                stemKeywordsList.appendChild(tag);
            });
            
            // Bigram'lar
            document.getElementById('bigramCount').textContent = data.matchedBigrams.length;
            const bigramList = document.getElementById('bigramList');
            bigramList.innerHTML = '';
            if (data.matchedBigrams.length > 0) {
                data.matchedBigrams.sort().forEach(bigram => {
                    const tag = document.createElement('div');
                    tag.className = 'keyword-tag';
                    tag.textContent = bigram;
                    bigramList.appendChild(tag);
                });
            } else {
                bigramList.innerHTML = '<p style="color: #999; font-style: italic;">EÅŸleÅŸen bigram bulunamadÄ±.</p>';
            }
            
            // Trigram'lar
            document.getElementById('trigramCount').textContent = data.matchedTrigrams.length;
            const trigramList = document.getElementById('trigramList');
            trigramList.innerHTML = '';
            if (data.matchedTrigrams.length > 0) {
                data.matchedTrigrams.sort().forEach(trigram => {
                    const tag = document.createElement('div');
                    tag.className = 'keyword-tag';
                    tag.textContent = trigram;
                    trigramList.appendChild(tag);
                });
            } else {
                trigramList.innerHTML = '<p style="color: #999; font-style: italic;">EÅŸleÅŸen trigram bulunamadÄ±.</p>';
            }
            
            // SonuÃ§lar bÃ¶lÃ¼mÃ¼nÃ¼ gÃ¶ster
            document.getElementById('resultsSection').classList.add('active');
            
            // Grafik
            createChart(data.tfidfScore, data.similarityScore, data.stemScore);
        }

        function displayFrequencyBars(containerId, freqData) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            if (freqData.length === 0) {
                container.innerHTML = '<p style="color: #999;">Veri bulunamadÄ±</p>';
                return;
            }
            
            const maxCount = Math.max(...freqData.map(f => f.count));
            
            freqData.forEach(item => {
                const percentage = (item.count / maxCount) * 100;
                container.innerHTML += `
                    <div class="freq-item">
                        <span class="freq-word">${item.word}</span>
                        <div class="freq-bar-container">
                            <div class="freq-bar" style="width: ${percentage}%"></div>
                        </div>
                        <span class="freq-count">${item.count}</span>
                    </div>
                `;
            });
        }

        function displayStemExamples(containerId, stemData) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            // Sadece farklÄ± kÃ¶kleri gÃ¶ster
            const uniqueStems = [];
            const seenStems = new Set();
            
            for (const item of stemData) {
                if (!seenStems.has(item.stem) && item.original !== item.stem) {
                    uniqueStems.push(item);
                    seenStems.add(item.stem);
                }
                if (uniqueStems.length >= 10) break;
            }
            
            if (uniqueStems.length === 0) {
                container.innerHTML = '<p style="color: #999; font-size: 12px;">KÃ¶k dÃ¶nÃ¼ÅŸÃ¼mÃ¼ Ã¶rneÄŸi bulunamadÄ±</p>';
                return;
            }
            
            uniqueStems.forEach(item => {
                container.innerHTML += `
                    <div class="stem-item">
                        <span class="stem-original">${item.original}</span>
                        <span class="stem-result">â†’ ${item.stem}</span>
                    </div>
                `;
            });
        }

        function createChart(tfidfScore, similarityScore, stemScore) {
            const ctx = document.getElementById('resultsChart').getContext('2d');
            
            if (chart) {
                chart.destroy();
            }
            
            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['TF-IDF BenzerliÄŸi', 'Kelime EÅŸleÅŸmesi', 'KÃ¶k BazlÄ± EÅŸleÅŸme'],
                    datasets: [{
                        label: 'Skor',
                        data: [tfidfScore, similarityScore, stemScore],
                        backgroundColor: [
                            'rgba(102, 126, 234, 0.8)',
                            'rgba(118, 75, 162, 0.8)',
                            'rgba(17, 153, 142, 0.8)'
                        ],
                        borderColor: [
                            'rgba(102, 126, 234, 1)',
                            'rgba(118, 75, 162, 1)',
                            'rgba(17, 153, 142, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1,
                            ticks: {
                                callback: function(value) {
                                    return (value * 100).toFixed(0) + '%';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return 'Skor: ' + (context.parsed.y * 100).toFixed(1) + '%';
                                }
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
